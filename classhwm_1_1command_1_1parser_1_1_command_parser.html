<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Mercury2 Hardware Manager: hwm.command.parser.CommandParser Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Mercury2 Hardware Manager
   &#160;<span id="projectnumber">1.0dev</span>
   </div>
   <div id="projectbrief">The hardware manager component of the Mercury2 ground station suite.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classhwm_1_1command_1_1parser_1_1_command_parser.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="classhwm_1_1command_1_1parser_1_1_command_parser-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">hwm.command.parser.CommandParser Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Processes all commands received by the hardware manager.  
 <a href="classhwm_1_1command_1_1parser_1_1_command_parser.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a397d835d19f30cbc0af81e4727c242ac"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwm_1_1command_1_1parser_1_1_command_parser.html#a397d835d19f30cbc0af81e4727c242ac">__init__</a></td></tr>
<tr class="memdesc:a397d835d19f30cbc0af81e4727c242ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the command parser instance.  <a href="#a397d835d19f30cbc0af81e4727c242ac">More...</a><br/></td></tr>
<tr class="separator:a397d835d19f30cbc0af81e4727c242ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82b1c3fed48de051083d7d56c1dc1d45"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwm_1_1command_1_1parser_1_1_command_parser.html#a82b1c3fed48de051083d7d56c1dc1d45">system_command_handlers</a></td></tr>
<tr class="memdesc:a82b1c3fed48de051083d7d56c1dc1d45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides access to the loaded system command handlers.  <a href="#a82b1c3fed48de051083d7d56c1dc1d45">More...</a><br/></td></tr>
<tr class="separator:a82b1c3fed48de051083d7d56c1dc1d45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abba503c449762e5c3896b609dad0c575"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwm_1_1command_1_1parser_1_1_command_parser.html#abba503c449762e5c3896b609dad0c575">parse_command</a></td></tr>
<tr class="memdesc:abba503c449762e5c3896b609dad0c575"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes all commands received by the ground station.  <a href="#abba503c449762e5c3896b609dad0c575">More...</a><br/></td></tr>
<tr class="separator:abba503c449762e5c3896b609dad0c575"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a711f818525889f03cb592637513a8104"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a711f818525889f03cb592637513a8104"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>system_handlers</b></td></tr>
<tr class="separator:a711f818525889f03cb592637513a8104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27ae7cf7b666ef918a45706cc2229ba0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a27ae7cf7b666ef918a45706cc2229ba0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>permission_manager</b></td></tr>
<tr class="separator:a27ae7cf7b666ef918a45706cc2229ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f277481c45b26514976252880c8f6a8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2f277481c45b26514976252880c8f6a8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>pipeline_manager</b></td></tr>
<tr class="separator:a2f277481c45b26514976252880c8f6a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f7eb4e83f80e3aca36e547f8b045e13"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2f7eb4e83f80e3aca36e547f8b045e13"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>session_coordinator</b></td></tr>
<tr class="separator:a2f7eb4e83f80e3aca36e547f8b045e13"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a47cef501a1476ff0057682e61a366fd6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwm_1_1command_1_1parser_1_1_command_parser.html#a47cef501a1476ff0057682e61a366fd6">_load_permissions</a></td></tr>
<tr class="memdesc:a47cef501a1476ff0057682e61a366fd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the user's permissions, if required.  <a href="#a47cef501a1476ff0057682e61a366fd6">More...</a><br/></td></tr>
<tr class="separator:a47cef501a1476ff0057682e61a366fd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa73d2febe867798267139571ddad26d9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwm_1_1command_1_1parser_1_1_command_parser.html#aa73d2febe867798267139571ddad26d9">_run_command</a></td></tr>
<tr class="memdesc:aa73d2febe867798267139571ddad26d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the command after it has been validated.  <a href="#aa73d2febe867798267139571ddad26d9">More...</a><br/></td></tr>
<tr class="separator:aa73d2febe867798267139571ddad26d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40cc95046bc15292efea3cdaf846353c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwm_1_1command_1_1parser_1_1_command_parser.html#a40cc95046bc15292efea3cdaf846353c">_command_complete</a></td></tr>
<tr class="memdesc:a40cc95046bc15292efea3cdaf846353c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a complete response for the successful command.  <a href="#a40cc95046bc15292efea3cdaf846353c">More...</a><br/></td></tr>
<tr class="separator:a40cc95046bc15292efea3cdaf846353c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e7cadb7dd0a59464f315a8de45be9b1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwm_1_1command_1_1parser_1_1_command_parser.html#a5e7cadb7dd0a59464f315a8de45be9b1">_command_error</a></td></tr>
<tr class="memdesc:a5e7cadb7dd0a59464f315a8de45be9b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates an appropriate error response for the command failure.  <a href="#a5e7cadb7dd0a59464f315a8de45be9b1">More...</a><br/></td></tr>
<tr class="separator:a5e7cadb7dd0a59464f315a8de45be9b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Processes all commands received by the hardware manager. </p>
<p>This class parses and performs validations on received commands, delegating them to the appropriate command handler. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a397d835d19f30cbc0af81e4727c242ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def hwm.command.parser.CommandParser.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>system_command_handlers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>permission_manager</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the command parser instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">system_command_handlers</td><td>A array containing references to all of the system command handlers. If a command's destination field references an element in this dictionary, that command handler will be used. Otherwise, it will be delegated to a device command handler. </td></tr>
    <tr><td class="paramname">permission_manager</td><td>A reference to the permissions manager instance that will be used to determine if a user has the permissions to execute a given command.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This class requires that a SessionCoordinator instance be initialized with an instance of this class before it can parse commands. It needs the session coordinator to load the user's active sessions, and the session coordinator needs this class so that it can pass it to newly created sessions for their setup commands. </dd>
<dd>
This class requires that a PipelineManager instance be initialized with an instance of this class before it can parse device commands. This is required so that it can relay device commands to the specified device. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a40cc95046bc15292efea3cdaf846353c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def hwm.command.parser.CommandParser._command_complete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>command_results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>successful_command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Builds a complete response for the successful command. </p>
<pre class="fragment"> This callback generates a successful command response. It is called after the command has been executed in a new
 thread. 
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command_results</td><td>A dictionary containing additional data to embed with the command response (in the "result" field of the JSON response). This is returned by the individual command functions in the command handlers. </td></tr>
    <tr><td class="paramname">successful_command</td><td>The command that just completed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the constructed command response dictionary. This dictionary is fed into callbacks waiting for the command results. </dd></dl>

</div>
</div>
<a class="anchor" id="a5e7cadb7dd0a59464f315a8de45be9b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def hwm.command.parser.CommandParser._command_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>failure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>failed_command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates an appropriate error response for the command failure. </p>
<pre class="fragment"> This errback generates an error response for the indicated failure, which is then loaded into a CommandFailed
 exception and re-raised. If the incoming failure is wrapping an exception of type CommandError then it may contain a 
 dictionary with additional information about the error.
</pre><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Raises</td><td>a <a class="el" href="classhwm_1_1command_1_1parser_1_1_command_failed.html" title="Used to wrap command execution errors. ">CommandFailed</a> exception which contains information about the failure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">failure</td><td>The Failure object representing the error. </td></tr>
    <tr><td class="paramname">failed_command</td><td>The Command object of the failed command. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a47cef501a1476ff0057682e61a366fd6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def hwm.command.parser.CommandParser._load_permissions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>validation_results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>valid_command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads the user's permissions, if required. </p>
<pre class="fragment"> This callback runs after the command has been validated and is responsible for loading a user's permissions to make
 sure that the user has permission to execute the command. If the command is being executed in kernel mode, then this
 step will be skipped and a pre-fired deferred will be returned to continue the execution process.
</pre><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">This</td><td>callback may throw several exceptions indicating errors about the command. These exceptions will automatically be picked up by the errback chain on the parent deferred.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">validation_results</td><td>The validation results. Always true (because this is a callback and not an errback). </td></tr>
    <tr><td class="paramname">valid_command</td><td>The Command object being executed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a deferred that will eventually be fired with the user's command execution permissions (or None if the command is being run in kernel mode). </dd></dl>

</div>
</div>
<a class="anchor" id="aa73d2febe867798267139571ddad26d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def hwm.command.parser.CommandParser._run_command </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>user_permissions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>valid_command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes the command after it has been validated. </p>
<pre class="fragment"> This callback sends the command to it's specified destination after it has been validated by previous callbacks. It
 will eventually return the command response via a deferred.
</pre><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">May</td><td>throw CommandError and other exceptions indicating that the command has failed. A subsequent errback in the main command deferred chain will automatically handle all command errors.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user_permissions</td><td>A dictionary containing the user's permissions. If the command is being running in kernel mode, this will just be None. </td></tr>
    <tr><td class="paramname">valid_command</td><td>The Command object for the currently executing command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a deferred that will eventually be fired with the results of the command execution. </dd></dl>

</div>
</div>
<a class="anchor" id="abba503c449762e5c3896b609dad0c575"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def hwm.command.parser.CommandParser.parse_command </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>raw_command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>user_id</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kernel_mode</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes all commands received by the ground station. </p>
<pre class="fragment"> When a raw command is passed to this function, it performs the following operations via a series of callbacks:
 * Constructs a new Command and validates it against that command's schema
 * Verifies that the indicated command exists
 * Checks that the user can execute the command
 * Executes the command in a new thread
 * Returns a deferred that will be fired with the results of the command

 Some of these steps may be skipped depending on the type of command. For example, kernel level commands skip the 
 permission checking phase.
</pre><dl class="section note"><dt>Note</dt><dd>In the event of an error with the command (e.g. invalid schema or permission error), the error will be logged and an error response will be returned via the returned deerred's errback chain. </dd>
<dd>
The callback/errback chain for the deferred returned from this function will be fired with a dictionary containing the results of the command. In the event of an error, these results can be accessed using the returned Failure like so: Failure.value.results['response']. In the event of a success, these results can be accessed via the 'response' key of the callback parameter. The calling module is responsible for converting this dictionary into an appropriate format.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">raw_command</td><td>A raw command containing metadata about the command in an arbitrary format (specific Command classes are responsible for parsing different formats). </td></tr>
    <tr><td class="paramname">user_id</td><td>The user's ID for the purpose of loading command execution settings. If set, this probably came from the user's SSL certificate or reservation schedule. </td></tr>
    <tr><td class="paramname">kernel_mode</td><td>Indicates if the command should be run in kernel mode. That is, whether permission and session restrictions should be ignored. This is done, for example, when pipeline setup commands get run as a new session is being setup. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the results of the command in a dictionary using a deferred. May be the output of the command or a Failure (containing details about the failure) in the event of an error. </dd></dl>

</div>
</div>
<a class="anchor" id="a82b1c3fed48de051083d7d56c1dc1d45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def hwm.command.parser.CommandParser.system_command_handlers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provides access to the loaded system command handlers. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the dictionary containing references to the available system command handlers. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>hwm/command/parser.py</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>hwm</b></li><li class="navelem"><b>command</b></li><li class="navelem"><a class="el" href="namespacehwm_1_1command_1_1parser.html">parser</a></li><li class="navelem"><a class="el" href="classhwm_1_1command_1_1parser_1_1_command_parser.html">CommandParser</a></li>
    <li class="footer">Generated on Thu Apr 24 2014 13:27:40 for Mercury2 Hardware Manager by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
