<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Mercury2 Hardware Manager: hwm.command.metadata Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Mercury2 Hardware Manager
   &#160;<span id="projectnumber">1.0dev</span>
   </div>
   <div id="projectbrief">The hardware manager component of the Mercury2 ground station suite.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespacehwm_1_1command_1_1metadata.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">hwm.command.metadata Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module contains functions used to build a command's meta-data dictionary.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwm_1_1command_1_1metadata_1_1_invalid_command_metadata.html">InvalidCommandMetadata</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwm_1_1command_1_1metadata_1_1_invalid_command_address.html">InvalidCommandAddress</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7cef22ff8d0a900651eaf7725022e4ff"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehwm_1_1command_1_1metadata.html#a7cef22ff8d0a900651eaf7725022e4ff">build_metadata_dict</a></td></tr>
<tr class="memdesc:a7cef22ff8d0a900651eaf7725022e4ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds the command meta-data structure for a specific command.  <a href="#a7cef22ff8d0a900651eaf7725022e4ff">More...</a><br/></td></tr>
<tr class="separator:a7cef22ff8d0a900651eaf7725022e4ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module contains functions used to build a command's meta-data dictionary. </p>
<p>This dictionary defines how to reach a specific command, what parameters it accepts, and whether or not it requires an active session to run.</p>
<p>Periodically, a command's meta-data dictionary is loaded by the system state packager which then serializes it and sends it to the user interface. The user interface will use the metadata to build an appropriate form to allow the user to easily execute the command. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a7cef22ff8d0a900651eaf7725022e4ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def hwm.command.metadata.build_metadata_dict </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>command_parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>command_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>command_handler_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>requires_active_session</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dangerous</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>schedulable</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>use_as_initial_value</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds the command meta-data structure for a specific command. </p>
<p>Command handlers use this function to build the command meta-data structures for the commands they service. For the most part, all command meta-data structures must be built using this command. If a command meta-data structure does not conform to this format, an error will be generated by the status packager or the user interface won't be able to construct a form for it.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">May</td><td>throw InvalidCommandParameters in the event that the supplied parameter dictionary isn't valid. </td></tr>
    <tr><td class="paramname">May</td><td>throw <a class="el" href="classhwm_1_1command_1_1metadata_1_1_invalid_command_address.html">InvalidCommandAddress</a> if neither command_handler_name or device_id are set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command_parameters</td><td>An array of dictionaries containing the parameters that the command accepts along with any basic restrictions on the parameter value. Currently, the following types and restrictions are supported:<ul>
<li>type: string<ul>
<li>minlength - The min length of the string (integer)</li>
<li>maxlength - The max length of the string (integer)</li>
</ul>
</li>
<li>type: number<ul>
<li>minvalue - The minimum value of the number (inclusive, integer)</li>
<li>maxvalue - The maximum value of the number (inclusive, integer)</li>
<li>integer - Whether or not the number must be an integer (boolean)</li>
</ul>
</li>
<li>type: boolean</li>
<li>type: select<ul>
<li>multiselect - Whether or not multiple options can be selected (boolean)</li>
<li>options - An array containing valid [title, value] pairs for the argument (required for select, array)</li>
</ul>
</li>
<li>Any Type<ul>
<li>required - Whether or not the argument is required to submit the command (boolean)</li>
<li>description - A description of the argument (string)</li>
<li>title - A short title for the argument (required, string)</li>
</ul>
</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>If a restriction is left blank, the user interface will use a default value. Unrecognized/unsupported attributes will be ignored (but allowed). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command_id</td><td>The ID of the command. This must be unique per command handler. </td></tr>
    <tr><td class="paramname">command_handler_name</td><td>The name of the system command handler that the command is located in. This is used by user interface to address user commands to the appropriate handler. If the command is a device command, then this will be the device ID. </td></tr>
    <tr><td class="paramname">requires_active_session</td><td>Whether or not the command requires an active session to be executed. If the command is a system command, then the command handler must perform its own validations on the session. If the command is a device command, the command parser will make sure that the user has an active session with a pipeline that uses the hardware device before executing the command (and the command handler may perform any additional validations on its own if needed). </td></tr>
    <tr><td class="paramname">dangerous</td><td>If the command is dangerous, it could possibly dangerously modify the ground station state (e.g. turn of devices, delete sessions, etc.). This flag will cause the user interface to restrict access to the command by default (which can be overridden if desired). </td></tr>
    <tr><td class="paramname">schedulable</td><td>Indicates that the command can be scheduled using the reservation scheduling service (if the active pipeline supports it). If it can, the user interface will use this to build a form to schedule this command during the reservation process. </td></tr>
    <tr><td class="paramname">use_as_initial_value</td><td>If set, the user interface will use this command when building the device or system's initial state configuration forms during the reservation process. This can be used, for example, to set the initial frequency that a radio should be tunned to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a dictionary containing the command meta-data. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>hwm</b></li><li class="navelem"><b>command</b></li><li class="navelem"><a class="el" href="namespacehwm_1_1command_1_1metadata.html">metadata</a></li>
    <li class="footer">Generated on Mon Mar 31 2014 13:30:42 for Mercury2 Hardware Manager by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
