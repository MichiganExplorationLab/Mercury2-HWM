\hypertarget{classhwm_1_1sessions_1_1session_1_1_session}{\section{hwm.\-sessions.\-session.\-Session Class Reference}
\label{classhwm_1_1sessions_1_1session_1_1_session}\index{hwm.\-sessions.\-session.\-Session@{hwm.\-sessions.\-session.\-Session}}
}


Represents a user hardware pipeline usage session.  


\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classhwm_1_1sessions_1_1session_1_1_session_afe7c8702e8502c36cd300226e81121c6}{\-\_\-\-\_\-init\-\_\-\-\_\-}
\begin{DoxyCompactList}\small\item\em Initializes the new session. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1sessions_1_1session_1_1_session_a13b88831137e474313c55eecc55e09d5}{write\-\_\-telemetry}
\begin{DoxyCompactList}\small\item\em Writes the provided telemetry datum to the registered telemetry protocols. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1sessions_1_1session_1_1_session_a26619312f19b5f19f939bf72f864ff3e}{write\-\_\-output}
\begin{DoxyCompactList}\small\item\em Writes the provided data chunk to the registered data protocols. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1sessions_1_1session_1_1_session_ae89be342f479669229a72028120cc2a2}{write}
\begin{DoxyCompactList}\small\item\em Writes the chunk of data to the pipeline. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1sessions_1_1session_1_1_session_a48e131f82f7c51b83484047c8ee40603}{register\-\_\-data\-\_\-protocol}
\begin{DoxyCompactList}\small\item\em Registers the provided data protocol with the session. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1sessions_1_1session_1_1_session_a5079765b5b9e9b107615de01615bdc8a}{register\-\_\-telemetry\-\_\-protocol}
\begin{DoxyCompactList}\small\item\em Registers the provided telemetry protocol with the session. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1sessions_1_1session_1_1_session_aa63aa265e8f4cf8a2d8cff5b0899bc05}{get\-\_\-pipeline\-\_\-telemetry\-\_\-producer}
\begin{DoxyCompactList}\small\item\em Returns the telemetry producer for the session's pipeline. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1sessions_1_1session_1_1_session_af47ab747d5daf47d54893fe4af954ca0}{start\-\_\-session}
\begin{DoxyCompactList}\small\item\em Sets up the session for use. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1sessions_1_1session_1_1_session_ac31271ee658c6fb54feba36024b76781}{kill\-\_\-session}
\begin{DoxyCompactList}\small\item\em Terminates the session. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1sessions_1_1session_1_1_session_a7f096ca20400296cba0f4299316c3777}{is\-\_\-active}
\begin{DoxyCompactList}\small\item\em Indicates if the \hyperlink{classhwm_1_1sessions_1_1session_1_1_session}{Session} is active. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_af2f0c6b61f2309847f20f96920dea75e}{{\bfseries active\-\_\-pipeline}}\label{classhwm_1_1sessions_1_1session_1_1_session_af2f0c6b61f2309847f20f96920dea75e}

\item 
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_a4698585d4354b4675e04b6c427064e2b}{{\bfseries command\-\_\-parser}}\label{classhwm_1_1sessions_1_1session_1_1_session_a4698585d4354b4675e04b6c427064e2b}

\item 
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_a881946415d9554daa68b6c63e516e5ba}{{\bfseries configuration}}\label{classhwm_1_1sessions_1_1session_1_1_session_a881946415d9554daa68b6c63e516e5ba}

\item 
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_a81ee3b8a086f8bed764522e3b9e9f1b1}{{\bfseries id}}\label{classhwm_1_1sessions_1_1session_1_1_session_a81ee3b8a086f8bed764522e3b9e9f1b1}

\item 
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_a4fb0e2eb1605d4d9019f8876a3e14670}{{\bfseries user\-\_\-id}}\label{classhwm_1_1sessions_1_1session_1_1_session_a4fb0e2eb1605d4d9019f8876a3e14670}

\item 
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_a7dc18422aad6019baba6d7bfce51cdcc}{{\bfseries setup\-\_\-commands}}\label{classhwm_1_1sessions_1_1session_1_1_session_a7dc18422aad6019baba6d7bfce51cdcc}

\item 
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_af10df61ee88d6a5e85a958db51eb6c65}{{\bfseries data\-\_\-protocols}}\label{classhwm_1_1sessions_1_1session_1_1_session_af10df61ee88d6a5e85a958db51eb6c65}

\item 
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_ac55c394d24acfa8699542e1ad91ef07e}{{\bfseries telemetry\-\_\-protocols}}\label{classhwm_1_1sessions_1_1session_1_1_session_ac55c394d24acfa8699542e1ad91ef07e}

\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classhwm_1_1sessions_1_1session_1_1_session_ae15ea5f2fb1f9fc941d566ba1a1fa717}{\-\_\-run\-\_\-setup\-\_\-commands}
\begin{DoxyCompactList}\small\item\em Runs the session setup commands. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1sessions_1_1session_1_1_session_a0f1ed6e582009b9e7e1bf1bb48e92ca2}{\-\_\-activate\-\_\-session}
\begin{DoxyCompactList}\small\item\em Marks the session as active. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1sessions_1_1session_1_1_session_a705fbbf0404ebe64170cef1a1ac6fd86}{\-\_\-session\-\_\-setup\-\_\-error}
\begin{DoxyCompactList}\small\item\em Cleans up after session-\/fatal errors and passes the failure along. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_ad86f3d3182ae07468717bd82c6af449a}{{\bfseries \-\_\-active}}\label{classhwm_1_1sessions_1_1session_1_1_session_ad86f3d3182ae07468717bd82c6af449a}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Represents a user hardware pipeline usage session. 

This class is used to represent hardware pipeline reservations, which are specified by the reservation schedule. \hyperlink{classhwm_1_1sessions_1_1session_1_1_session}{Session} instances are managed by the Session\-Coordinator, which is responsible for creating and destroying sessions as needed. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_afe7c8702e8502c36cd300226e81121c6}{\index{hwm\-::sessions\-::session\-::\-Session@{hwm\-::sessions\-::session\-::\-Session}!\-\_\-\-\_\-init\-\_\-\-\_\-@{\-\_\-\-\_\-init\-\_\-\-\_\-}}
\index{\-\_\-\-\_\-init\-\_\-\-\_\-@{\-\_\-\-\_\-init\-\_\-\-\_\-}!hwm::sessions::session::Session@{hwm\-::sessions\-::session\-::\-Session}}
\subsubsection[{\-\_\-\-\_\-init\-\_\-\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-sessions.\-session.\-Session.\-\_\-\-\_\-init\-\_\-\-\_\- (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{reservation\-\_\-configuration, }
\item[{}]{session\-\_\-pipeline, }
\item[{}]{command\-\_\-parser}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1sessions_1_1session_1_1_session_afe7c8702e8502c36cd300226e81121c6}


Initializes the new session. 

\begin{DoxyNote}{Note}
The provided pipeline is not locked when it is passed in. self.\-start\-\_\-session needs to be called to lock up the pipeline and perform other session setup tasks.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em reservation\-\_\-configuration} & A dictionary containing the configuration settings for the reservation associated with this session. \\
\hline
{\em session\-\_\-pipeline} & The Pipeline that this session will use. \\
\hline
{\em command\-\_\-parser} & The Command\-Parser that will be used to execute the session setup commands. \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_a0f1ed6e582009b9e7e1bf1bb48e92ca2}{\index{hwm\-::sessions\-::session\-::\-Session@{hwm\-::sessions\-::session\-::\-Session}!\-\_\-activate\-\_\-session@{\-\_\-activate\-\_\-session}}
\index{\-\_\-activate\-\_\-session@{\-\_\-activate\-\_\-session}!hwm::sessions::session::Session@{hwm\-::sessions\-::session\-::\-Session}}
\subsubsection[{\-\_\-activate\-\_\-session}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-sessions.\-session.\-Session.\-\_\-activate\-\_\-session (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{setup\-\_\-command\-\_\-results}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classhwm_1_1sessions_1_1session_1_1_session_a0f1ed6e582009b9e7e1bf1bb48e92ca2}


Marks the session as active. 

\begin{DoxyVerb} This callback marks the session as active after its setup commands have been executed.
\end{DoxyVerb}



\begin{DoxyParams}{Parameters}
{\em setup\-\_\-command\-\_\-results} & An array containing the results of the \hyperlink{classhwm_1_1sessions_1_1session_1_1_session}{Session} setup commands. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Passes along the unmodified setup command results originally passed to this callback. 
\end{DoxyReturn}
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_ae15ea5f2fb1f9fc941d566ba1a1fa717}{\index{hwm\-::sessions\-::session\-::\-Session@{hwm\-::sessions\-::session\-::\-Session}!\-\_\-run\-\_\-setup\-\_\-commands@{\-\_\-run\-\_\-setup\-\_\-commands}}
\index{\-\_\-run\-\_\-setup\-\_\-commands@{\-\_\-run\-\_\-setup\-\_\-commands}!hwm::sessions::session::Session@{hwm\-::sessions\-::session\-::\-Session}}
\subsubsection[{\-\_\-run\-\_\-setup\-\_\-commands}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-sessions.\-session.\-Session.\-\_\-run\-\_\-setup\-\_\-commands (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{pipeline\-\_\-setup\-\_\-commands\-\_\-results}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classhwm_1_1sessions_1_1session_1_1_session_ae15ea5f2fb1f9fc941d566ba1a1fa717}


Runs the session setup commands. 

\begin{DoxyVerb} This callback runs the session setup commands after the pipeline setup commands have all been executed successfully.
 The session setup commands are responsible for putting the pipeline in the desired initial configuration based on 
 this session's associated reservation. For example, setup commands can be used by the pipeline user to set the 
 initial radio frequency.
\end{DoxyVerb}


\begin{DoxyNote}{Note}
\hyperlink{classhwm_1_1sessions_1_1session_1_1_session}{Session} setup command failures will never trigger the errback chain because they are often recoverable with additional input from the user, unlike pipeline setup commands.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em pipeline\-\_\-setup\-\_\-commands\-\_\-results} & An array containing the results of the pipeline setup commands. May be None if there were no pipeline setup commands. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns a Deferred\-List that will be fired with the results of the session setup commands. If this session doesn't specify any session setup commands, a pre-\/fired (with None) deferred will be returned. 
\end{DoxyReturn}
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_a705fbbf0404ebe64170cef1a1ac6fd86}{\index{hwm\-::sessions\-::session\-::\-Session@{hwm\-::sessions\-::session\-::\-Session}!\-\_\-session\-\_\-setup\-\_\-error@{\-\_\-session\-\_\-setup\-\_\-error}}
\index{\-\_\-session\-\_\-setup\-\_\-error@{\-\_\-session\-\_\-setup\-\_\-error}!hwm::sessions::session::Session@{hwm\-::sessions\-::session\-::\-Session}}
\subsubsection[{\-\_\-session\-\_\-setup\-\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-sessions.\-session.\-Session.\-\_\-session\-\_\-setup\-\_\-error (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{failure}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classhwm_1_1sessions_1_1session_1_1_session_a705fbbf0404ebe64170cef1a1ac6fd86}


Cleans up after session-\/fatal errors and passes the failure along. 

\begin{DoxyVerb} This callback handles some session-fatal errors that may have occured when setting up the session. For example, it 
 will be called if a pipeline setup command fails to execute. It cleans up after errors by rolling back any state 
 changes that may have been made (such as pipeline/hardware locks).
\end{DoxyVerb}


\begin{DoxyNote}{Note}
Because session setup command errors aren't fatal, they won't trigger this callback. 

This callback returns the original Failure after it has cleaned up the session. This will allow the session coordinator to detect that the session has failed and take the appropriate actions. 

Because Deferred\-List wraps Failures in a First\-Error instance, the failure will be flattened before being returned so it will always be consistent for the session coordinator.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em failure} & A Failure object encapsulating the error (or First\-Error if it was a Deferred\-List that failed). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the Failure object encapsulating the fatal exception. 
\end{DoxyReturn}
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_aa63aa265e8f4cf8a2d8cff5b0899bc05}{\index{hwm\-::sessions\-::session\-::\-Session@{hwm\-::sessions\-::session\-::\-Session}!get\-\_\-pipeline\-\_\-telemetry\-\_\-producer@{get\-\_\-pipeline\-\_\-telemetry\-\_\-producer}}
\index{get\-\_\-pipeline\-\_\-telemetry\-\_\-producer@{get\-\_\-pipeline\-\_\-telemetry\-\_\-producer}!hwm::sessions::session::Session@{hwm\-::sessions\-::session\-::\-Session}}
\subsubsection[{get\-\_\-pipeline\-\_\-telemetry\-\_\-producer}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-sessions.\-session.\-Session.\-get\-\_\-pipeline\-\_\-telemetry\-\_\-producer (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1sessions_1_1session_1_1_session_aa63aa265e8f4cf8a2d8cff5b0899bc05}


Returns the telemetry producer for the session's pipeline. 

\begin{DoxyVerb} This method returns the PipelineTelemetryProducer belonging to the session's pipeline. This is typically used by the
 telemetry protocol to regulate the production of pipeline telemetry. 
\end{DoxyVerb}


\begin{DoxyReturn}{Returns}
Returns the Pipeline\-Telemetry\-Producer instance belonging to the session's pipeline. 
\end{DoxyReturn}
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_a7f096ca20400296cba0f4299316c3777}{\index{hwm\-::sessions\-::session\-::\-Session@{hwm\-::sessions\-::session\-::\-Session}!is\-\_\-active@{is\-\_\-active}}
\index{is\-\_\-active@{is\-\_\-active}!hwm::sessions::session::Session@{hwm\-::sessions\-::session\-::\-Session}}
\subsubsection[{is\-\_\-active}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-sessions.\-session.\-Session.\-is\-\_\-active (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1sessions_1_1session_1_1_session_a7f096ca20400296cba0f4299316c3777}


Indicates if the \hyperlink{classhwm_1_1sessions_1_1session_1_1_session}{Session} is active. 

\begin{DoxyVerb} This property checks if the session is currently active. That is, if it has already completed its setup process and 
 is ready for user interaction.
\end{DoxyVerb}


\begin{DoxyReturn}{Returns}
Returns True if the \hyperlink{classhwm_1_1sessions_1_1session_1_1_session}{Session} is currently active and False otherwise. 
\end{DoxyReturn}
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_ac31271ee658c6fb54feba36024b76781}{\index{hwm\-::sessions\-::session\-::\-Session@{hwm\-::sessions\-::session\-::\-Session}!kill\-\_\-session@{kill\-\_\-session}}
\index{kill\-\_\-session@{kill\-\_\-session}!hwm::sessions::session::Session@{hwm\-::sessions\-::session\-::\-Session}}
\subsubsection[{kill\-\_\-session}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-sessions.\-session.\-Session.\-kill\-\_\-session (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1sessions_1_1session_1_1_session_ac31271ee658c6fb54feba36024b76781}


Terminates the session. 

\begin{DoxyVerb} This method is called at the end of the session's reservation window and is responsible for freeing up any resources
 being used by notifying the pipeline that the session has ended.
\end{DoxyVerb}


\begin{DoxyReturn}{Returns}
Returns a Deferred\-List containing the results of the device cleanup methods. 
\end{DoxyReturn}
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_a48e131f82f7c51b83484047c8ee40603}{\index{hwm\-::sessions\-::session\-::\-Session@{hwm\-::sessions\-::session\-::\-Session}!register\-\_\-data\-\_\-protocol@{register\-\_\-data\-\_\-protocol}}
\index{register\-\_\-data\-\_\-protocol@{register\-\_\-data\-\_\-protocol}!hwm::sessions::session::Session@{hwm\-::sessions\-::session\-::\-Session}}
\subsubsection[{register\-\_\-data\-\_\-protocol}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-sessions.\-session.\-Session.\-register\-\_\-data\-\_\-protocol (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{data\-\_\-protocol}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1sessions_1_1session_1_1_session_a48e131f82f7c51b83484047c8ee40603}


Registers the provided data protocol with the session. 

\begin{DoxyVerb} This method is used to register a pipeline data protocol with the session. The session uses its registered data
 protocols to route the pipeline output and input streams to and from the end user.
\end{DoxyVerb}


\begin{DoxyNote}{Note}
Multiple data protocols can be registered to the session. Any data that the pipeline generates will be routed to all registered data protocols. This allows for simultaneous connections to the same session. However, if multiple data protocols attempt to write to the session at the same time the data may be interlaced randomly (because of the stream based nature of the system).
\end{DoxyNote}

\begin{DoxyExceptions}{Exceptions}
{\em Throws} & \hyperlink{classhwm_1_1sessions_1_1session_1_1_protocol_already_registered}{Protocol\-Already\-Registered} in the event that the data protocol has already been registered.\\
\hline
\end{DoxyExceptions}

\begin{DoxyParams}{Parameters}
{\em data\-\_\-protocol} & A Twisted Protocol class used to relay the pipeline's data stream to and from the session user. \\
\hline
\end{DoxyParams}
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_a5079765b5b9e9b107615de01615bdc8a}{\index{hwm\-::sessions\-::session\-::\-Session@{hwm\-::sessions\-::session\-::\-Session}!register\-\_\-telemetry\-\_\-protocol@{register\-\_\-telemetry\-\_\-protocol}}
\index{register\-\_\-telemetry\-\_\-protocol@{register\-\_\-telemetry\-\_\-protocol}!hwm::sessions::session::Session@{hwm\-::sessions\-::session\-::\-Session}}
\subsubsection[{register\-\_\-telemetry\-\_\-protocol}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-sessions.\-session.\-Session.\-register\-\_\-telemetry\-\_\-protocol (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{telemetry\-\_\-protocol}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1sessions_1_1session_1_1_session_a5079765b5b9e9b107615de01615bdc8a}


Registers the provided telemetry protocol with the session. 

\begin{DoxyVerb} This method registers the supplied telemetry protocol with the session. The session will use this reference to pass 
 extra data (i.e. not the main pipeline output) from the pipeline to the end user. This data will consist of things 
 like extra data streams (e.g. a webcam feed) and live pipeline device state. This stream will be directed, with the 
 data flowing from the pipeline to the end user (through this session).
\end{DoxyVerb}


\begin{DoxyNote}{Note}
This method allows multiple telemetry protocols to be registered with the session. Whenever the pipeline generates any telemetry, it will automatically be sent to each registered telemetry protocol.
\end{DoxyNote}

\begin{DoxyExceptions}{Exceptions}
{\em Raises} & \hyperlink{classhwm_1_1sessions_1_1session_1_1_protocol_already_registered}{Protocol\-Already\-Registered} in the event that the telemetry protocol has already been registered.\\
\hline
\end{DoxyExceptions}

\begin{DoxyParams}{Parameters}
{\em telem\-\_\-protocol} & A Twisted Protocol class used to relay the pipeline's telemetry stream to the pipeline user. \\
\hline
\end{DoxyParams}
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_af47ab747d5daf47d54893fe4af954ca0}{\index{hwm\-::sessions\-::session\-::\-Session@{hwm\-::sessions\-::session\-::\-Session}!start\-\_\-session@{start\-\_\-session}}
\index{start\-\_\-session@{start\-\_\-session}!hwm::sessions::session::Session@{hwm\-::sessions\-::session\-::\-Session}}
\subsubsection[{start\-\_\-session}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-sessions.\-session.\-Session.\-start\-\_\-session (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1sessions_1_1session_1_1_session_af47ab747d5daf47d54893fe4af954ca0}


Sets up the session for use. 

\begin{DoxyVerb} This method sets up a new session by:
 - Reserving the pipeline hardware
 - Registering the session with its pipeline
 - Executing the pipeline setup commands
 - Executing the session setup commands
 - Activating the session
\end{DoxyVerb}



\begin{DoxyExceptions}{Exceptions}
{\em May} & fire the errback callback chain on the returned deferred if there is a problem reserving the pipeline, registering the session, or executing the pipeline setup commands. This will cause the session coordinator to log the error and end the session. \hyperlink{classhwm_1_1sessions_1_1session_1_1_session}{Session} setup command errors don't generate session-\/fatal errors and are simply noted by the session coordinator. This is done because these errors will often be recoverable with additional input from the session user.\\
\hline
\end{DoxyExceptions}
\begin{DoxyNote}{Note}
All of the pipeline setup commands will always be executed before any of the session setup commands are. 

If a session-\/fatal error occurs, the self.\-\_\-session\-\_\-setup\-\_\-error callback will automatically clean up the session (e.\-g. freeing locks). Whatever calls this function (i.\-e. Session\-Coordinator) doesn't need to worry about it.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
Returns a deferred that will be fired with the results of session setup commands (an array containing the results for each setup command). 
\end{DoxyReturn}
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_ae89be342f479669229a72028120cc2a2}{\index{hwm\-::sessions\-::session\-::\-Session@{hwm\-::sessions\-::session\-::\-Session}!write@{write}}
\index{write@{write}!hwm::sessions::session::Session@{hwm\-::sessions\-::session\-::\-Session}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-sessions.\-session.\-Session.\-write (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{input\-\_\-data}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1sessions_1_1session_1_1_session_ae89be342f479669229a72028120cc2a2}


Writes the chunk of data to the pipeline. 

\begin{DoxyVerb} This method writes the supplied chunk of data to the input stream of the pipeline associated with this session via 
 its write() method. This is one step in the process of getting the pipeline input data from the end user to the 
 pipeline's input device (typically a radio).
\end{DoxyVerb}


\begin{DoxyNote}{Note}
Even though sessions can register multiple data protocols, only one protocol should write to this method at a time. This convention is followed by the default Pipeline\-Data protocol, which will only write to the session if that particular connection is allowed to do so.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em input\-\_\-data} & A data chunk of arbitrary size that is to be written to the pipeline's input stream. Normally, this comes from a Twisted protocol instance linked to the end user. \\
\hline
\end{DoxyParams}
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_a26619312f19b5f19f939bf72f864ff3e}{\index{hwm\-::sessions\-::session\-::\-Session@{hwm\-::sessions\-::session\-::\-Session}!write\-\_\-output@{write\-\_\-output}}
\index{write\-\_\-output@{write\-\_\-output}!hwm::sessions::session::Session@{hwm\-::sessions\-::session\-::\-Session}}
\subsubsection[{write\-\_\-output}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-sessions.\-session.\-Session.\-write\-\_\-output (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{output\-\_\-data}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1sessions_1_1session_1_1_session_a26619312f19b5f19f939bf72f864ff3e}


Writes the provided data chunk to the registered data protocols. 

\begin{DoxyVerb} This method writes the provided chunk of data (pipeline output) to all registered data protocols. This method will 
 typically be called by the pipeline associated with this session and facilitates passing pipeline output from the 
 Pipeline class to the end user.
\end{DoxyVerb}


\begin{DoxyNote}{Note}
Whenever the pipeline generates any output data, this method will call the \hyperlink{classhwm_1_1sessions_1_1session_1_1_session_a26619312f19b5f19f939bf72f864ff3e}{write\-\_\-output()} method for every data protocol registered to this session. The data passed to this method will be of arbitrary size.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em output\-\_\-data} & A chunk of pipeline output of arbitrary size. \\
\hline
\end{DoxyParams}
\hypertarget{classhwm_1_1sessions_1_1session_1_1_session_a13b88831137e474313c55eecc55e09d5}{\index{hwm\-::sessions\-::session\-::\-Session@{hwm\-::sessions\-::session\-::\-Session}!write\-\_\-telemetry@{write\-\_\-telemetry}}
\index{write\-\_\-telemetry@{write\-\_\-telemetry}!hwm::sessions::session::Session@{hwm\-::sessions\-::session\-::\-Session}}
\subsubsection[{write\-\_\-telemetry}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-sessions.\-session.\-Session.\-write\-\_\-telemetry (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{source\-\_\-id, }
\item[{}]{stream, }
\item[{}]{timestamp, }
\item[{}]{telemetry\-\_\-datum, }
\item[{}]{binary = {\ttfamily False}, }
\item[{}]{extra\-\_\-headers}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1sessions_1_1session_1_1_session_a13b88831137e474313c55eecc55e09d5}


Writes the provided telemetry datum to the registered telemetry protocols. 

\begin{DoxyVerb} This method passes the provided telemetry datum and headers to all registered telemetry protocols. It will be called
 by this session's associated pipeline and facilitates the sending of pipeline telemetry (state, additional data 
 streams, etc.) from the pipeline (and its devices) to the pipeline user via the registered telemetry protocols 
 write_telemetry() methods.
\end{DoxyVerb}


\begin{DoxyNote}{Note}
Because the telemetry stream uses H\-T\-T\-P, it's actually more of a packet stream than a true data stream (like the main pipeline stream). The Twisted protocol that sends the pipeline telemetry to the end user uses addressed H\-T\-T\-P packets to ensure that multiple unrelated data streams can be multi-\/plexed over the same socket without conflict. Thus, each call to this method will be with a complete \char`\"{}packet\char`\"{} of pipeline telemetry (i.\-e. a J\-S\-O\-N state string or single webcam frame). What ever receives these H\-T\-T\-P packets on the other side of the socket will be responsible for assembling and displaying them in a coherent way.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em source\-\_\-id} & The I\-D of the device or pipeline that generated the telemetry datum. \\
\hline
{\em stream} & A string identifying which of the device's telemetry streams the datum should be associated with. \\
\hline
{\em timestamp} & A unix timestamp specifying when the telemetry point was assembled. \\
\hline
{\em telemetry\-\_\-datum} & The actual telemetry datum. Can take many forms (e.\-g. a dictionary or binary webcam image). \\
\hline
{\em binary} & Whether or not the telemetry payload consists of binary data. If set to true, the data will be encoded before being sent to the user. \\
\hline
{\em $\ast$$\ast$extra\-\_\-headers} & A dictionary containing extra keyword arguments that should be included as additional headers when sending the telemetry datum. \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
hwm/sessions/session.\-py\end{DoxyCompactItemize}
