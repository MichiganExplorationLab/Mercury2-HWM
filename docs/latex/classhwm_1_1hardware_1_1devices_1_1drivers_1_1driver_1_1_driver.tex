\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver}{\section{hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver Class Reference}
\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver}\index{hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver@{hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver}}
}


Provides the base driver class interface.  


Inheritance diagram for hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=0.522023cm]{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_aec89361151754d9eafad0c3e87d9a519}{\-\_\-\-\_\-init\-\_\-\-\_\-}
\begin{DoxyCompactList}\small\item\em Initializes the new device driver. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a067a34f90a86b90220aaa85a7196fbd0}{write\-\_\-telemetry}
\begin{DoxyCompactList}\small\item\em Writes device telemetry data back to the device's registered pipelines. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a4a85862b29fa6a2f9d89d6b26f283a59}{write\-\_\-output}
\begin{DoxyCompactList}\small\item\em Writes device output to the device's pipelines. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a75544eafe9fea37cc4dd91edb823d9b5}{write}
\begin{DoxyCompactList}\small\item\em Writes the specified data chunk to the device. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_aa1faedf70c6ea90c5093c4be8abe2a62}{get\-\_\-command\-\_\-handler}
\begin{DoxyCompactList}\small\item\em Returns the device's command handler. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a16773f85a5b550b018c9d427747cd271}{get\-\_\-state}
\begin{DoxyCompactList}\small\item\em Returns a dictionary containing the current state of the device. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a309dc49356c392d593ff3cfa5f431dc2}{cleanup\-\_\-after\-\_\-session}
\begin{DoxyCompactList}\small\item\em Allows the driver to cleanup after a session that was using it has ended. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_adccc990f0884e5a4d2c895199fa589ef}{prepare\-\_\-for\-\_\-session}
\begin{DoxyCompactList}\small\item\em Allows the driver to prepare for new sessions. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_adedcca0374fe97f63ea68bbec40c007e}{register\-\_\-pipeline}
\begin{DoxyCompactList}\small\item\em Associates a pipeline with the device. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a4a0e7f3e92be74e6cf97e7829f33f99b}{reserve\-\_\-device}
\begin{DoxyCompactList}\small\item\em Reserves the device for a pipeline usage session. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a87ba55eac7d89db6053808b95ddb7bc3}{free\-\_\-device}
\begin{DoxyCompactList}\small\item\em Frees up the driver reservation. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a7a558987448f3954745c8bcf3955ada7}{is\-\_\-active}
\begin{DoxyCompactList}\small\item\em Indicates if the driver is active or not. \end{DoxyCompactList}\item 
def \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a8c6170ea0e61bb395ea69313d456a473}{is\-\_\-locked}
\begin{DoxyCompactList}\small\item\em Indicates if the driver has been locked or not. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a2a973aaf5e90466b76e8fa07f5f08bb0}{{\bfseries settings}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a2a973aaf5e90466b76e8fa07f5f08bb0}

\item 
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a2c32021a077473aa3c2d540379a7392f}{{\bfseries configuration}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a2c32021a077473aa3c2d540379a7392f}

\item 
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_af66caa85b0ccbe168d3628016dcab2a2}{{\bfseries id}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_af66caa85b0ccbe168d3628016dcab2a2}

\item 
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a37fd118d025a5171282413fa5d53e703}{{\bfseries allow\-\_\-concurrent\-\_\-use}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a37fd118d025a5171282413fa5d53e703}

\item 
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_acc72a2ae0d3b1f1679a84528c1ae0e13}{{\bfseries associated\-\_\-pipelines}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_acc72a2ae0d3b1f1679a84528c1ae0e13}

\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_aad335460ab2748e4a13480dc5fc09a49}{\-\_\-register\-\_\-services}
\begin{DoxyCompactList}\small\item\em Allows the driver to register any services that it may provide with its pipelines. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_ac7ee7e0a583514c5f30914948dfdacfe}{{\bfseries \-\_\-command\-\_\-handler}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_ac7ee7e0a583514c5f30914948dfdacfe}

\item 
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_aeeff7ce16d9b597f13fce56b21587be5}{{\bfseries \-\_\-command\-\_\-parser}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_aeeff7ce16d9b597f13fce56b21587be5}

\item 
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a9a56c369223e99e5a63ff380b57701ff}{{\bfseries \-\_\-use\-\_\-count}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a9a56c369223e99e5a63ff380b57701ff}

\item 
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_aeb62fd124c64f458c1aeb0cd83c65717}{{\bfseries \-\_\-locked}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_aeb62fd124c64f458c1aeb0cd83c65717}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Provides the base driver class interface. 

This class provides the interface that all Mercury2 device drivers must use. It defines several functions common to both virtual and physical devices as well as abstract methods that derived drivers must implement.

\begin{DoxyNote}{Note}
Individual driver classes should inherit from either \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_hardware_driver}{Hardware\-Driver} or \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_virtual_driver}{Virtual\-Driver}, not this class. 
\end{DoxyNote}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_aec89361151754d9eafad0c3e87d9a519}{\index{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}!\-\_\-\-\_\-init\-\_\-\-\_\-@{\-\_\-\-\_\-init\-\_\-\-\_\-}}
\index{\-\_\-\-\_\-init\-\_\-\-\_\-@{\-\_\-\-\_\-init\-\_\-\-\_\-}!hwm::hardware::devices::drivers::driver::Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}}
\subsubsection[{\-\_\-\-\_\-init\-\_\-\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver.\-\_\-\-\_\-init\-\_\-\-\_\- (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{device\-\_\-configuration, }
\item[{}]{command\-\_\-parser}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_aec89361151754d9eafad0c3e87d9a519}


Initializes the new device driver. 

\begin{DoxyNote}{Note}
Derived drivers should always call this method using super() as it sets several required attributes.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em device\-\_\-configuration} & A dictionary containing the device configuration (from the devices.\-yml configuration file). \\
\hline
{\em command\-\_\-parser} & A reference to the active Command\-Parser instance. Drivers may use this to execute commands during a session. \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_aad335460ab2748e4a13480dc5fc09a49}{\index{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}!\-\_\-register\-\_\-services@{\-\_\-register\-\_\-services}}
\index{\-\_\-register\-\_\-services@{\-\_\-register\-\_\-services}!hwm::hardware::devices::drivers::driver::Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}}
\subsubsection[{\-\_\-register\-\_\-services}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver.\-\_\-register\-\_\-services (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{pipeline}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_aad335460ab2748e4a13480dc5fc09a49}


Allows the driver to register any services that it may provide with its pipelines. 

\begin{DoxyVerb} This callback is called whenever a new pipeline is registered with the driver and gives the driver an opportunity to 
 register any services that it may offer with the pipeline.
\end{DoxyVerb}



\begin{DoxyParams}{Parameters}
{\em pipeline} & A pipeline that was just registered with the device. \\
\hline
\end{DoxyParams}
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a309dc49356c392d593ff3cfa5f431dc2}{\index{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}!cleanup\-\_\-after\-\_\-session@{cleanup\-\_\-after\-\_\-session}}
\index{cleanup\-\_\-after\-\_\-session@{cleanup\-\_\-after\-\_\-session}!hwm::hardware::devices::drivers::driver::Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}}
\subsubsection[{cleanup\-\_\-after\-\_\-session}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver.\-cleanup\-\_\-after\-\_\-session (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a309dc49356c392d593ff3cfa5f431dc2}


Allows the driver to cleanup after a session that was using it has ended. 

\begin{DoxyVerb} This method is called during the session cleanup process and provides the driver with an opportunity to cleanup 
 after a session by, for example:
 * Stopping any services that it may offer
 * Stopping device telemetry and data streams
\end{DoxyVerb}


\begin{DoxyNote}{Note}
Drivers that allow for concurrent access may be used by multiple pipelines at a time. If this driver allows for concurrent access, it is important to check the driver's \-\_\-use\-\_\-count attribute before deciding to terminate services. 

If the driver cleanup process involves any asynchronous action (such as a command) a deferred should be returned so that the session coordinator can log the results. 
\end{DoxyNote}
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a87ba55eac7d89db6053808b95ddb7bc3}{\index{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}!free\-\_\-device@{free\-\_\-device}}
\index{free\-\_\-device@{free\-\_\-device}!hwm::hardware::devices::drivers::driver::Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}}
\subsubsection[{free\-\_\-device}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver.\-free\-\_\-device (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a87ba55eac7d89db6053808b95ddb7bc3}


Frees up the driver reservation. 

\begin{DoxyVerb} This method frees the driver for use by other pipelines. If the driver is configured for concurrent access, then
 this method will just decrement the usage count.
\end{DoxyVerb}


\begin{DoxyNote}{Note}
Any pipelines that are currently using this driver will automatically call this method during the session cleanup process. 
\end{DoxyNote}
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_aa1faedf70c6ea90c5093c4be8abe2a62}{\index{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}!get\-\_\-command\-\_\-handler@{get\-\_\-command\-\_\-handler}}
\index{get\-\_\-command\-\_\-handler@{get\-\_\-command\-\_\-handler}!hwm::hardware::devices::drivers::driver::Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}}
\subsubsection[{get\-\_\-command\-\_\-handler}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver.\-get\-\_\-command\-\_\-handler (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_aa1faedf70c6ea90c5093c4be8abe2a62}


Returns the device's command handler. 

\begin{DoxyVerb} This method returns the device's command handler. Individual device drivers are responsible for defining and 
 initializing their command handler, as well as assigning it to their driver's "command_handler" attribute.
\end{DoxyVerb}



\begin{DoxyExceptions}{Exceptions}
{\em Raises} & \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_command_handler_not_defined}{Command\-Handler\-Not\-Defined} if the device driver does not specify a command handler.\\
\hline
\end{DoxyExceptions}
\begin{DoxyReturn}{Returns}
Returns the driver's command handler. 
\end{DoxyReturn}
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a16773f85a5b550b018c9d427747cd271}{\index{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}!get\-\_\-state@{get\-\_\-state}}
\index{get\-\_\-state@{get\-\_\-state}!hwm::hardware::devices::drivers::driver::Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}}
\subsubsection[{get\-\_\-state}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver.\-get\-\_\-state (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a16773f85a5b550b018c9d427747cd271}


Returns a dictionary containing the current state of the device. 

\begin{DoxyVerb} This method should return a dictionary containing all available/important state for this device. Any Pipeline using
 the device will use this to assemble a real time stream of pipeline telemetry.
\end{DoxyVerb}



\begin{DoxyExceptions}{Exceptions}
{\em Throws} & \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_state_not_defined}{State\-Not\-Defined} if no state is available for a given device. This can happen if you forget to override this method or if the device genuinely doesn't have any state.\\
\hline
\end{DoxyExceptions}
\begin{DoxyReturn}{Returns}
Should return a dictionary containing the device's current state. 
\end{DoxyReturn}
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a7a558987448f3954745c8bcf3955ada7}{\index{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}!is\-\_\-active@{is\-\_\-active}}
\index{is\-\_\-active@{is\-\_\-active}!hwm::hardware::devices::drivers::driver::Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}}
\subsubsection[{is\-\_\-active}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver.\-is\-\_\-active (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a7a558987448f3954745c8bcf3955ada7}


Indicates if the driver is active or not. 

\begin{DoxyVerb} This method is used to determine if the driver is active or not. That is to say, if it is currently being used by 
 any pipeline. 
\end{DoxyVerb}


\begin{DoxyNote}{Note}
Even if a driver has many pipelines registered with it, it may not be active. A driver is considered active when at least one of its pipelines is active (i.\-e. being used by a session).
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
Returns True if the driver is active (in use), and False otherwise. 
\end{DoxyReturn}
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a8c6170ea0e61bb395ea69313d456a473}{\index{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}!is\-\_\-locked@{is\-\_\-locked}}
\index{is\-\_\-locked@{is\-\_\-locked}!hwm::hardware::devices::drivers::driver::Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}}
\subsubsection[{is\-\_\-locked}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver.\-is\-\_\-locked (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a8c6170ea0e61bb395ea69313d456a473}


Indicates if the driver has been locked or not. 

\begin{DoxyVerb} This property is used to determine if the driver is currently locked or not. A driver is "locked" if a pipeline 
 has successfully called Driver.lock_device() on it and if it does not allow for concurrent access. When a driver is 
 locked, other pipelines won't be able to use the device.
\end{DoxyVerb}


\begin{DoxyNote}{Note}
Devices configured for concurrent access can not be locked because, by definition, they can always be accessed by multiple pipelines at the same time. If you wish to check if a driver is actively being used by any pipeline, use \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a7a558987448f3954745c8bcf3955ada7}{Driver.\-is\-\_\-active()}.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
Returns True if the driver has been locked and False otherwise. 
\end{DoxyReturn}
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_adccc990f0884e5a4d2c895199fa589ef}{\index{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}!prepare\-\_\-for\-\_\-session@{prepare\-\_\-for\-\_\-session}}
\index{prepare\-\_\-for\-\_\-session@{prepare\-\_\-for\-\_\-session}!hwm::hardware::devices::drivers::driver::Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}}
\subsubsection[{prepare\-\_\-for\-\_\-session}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver.\-prepare\-\_\-for\-\_\-session (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{session\-\_\-pipeline}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_adccc990f0884e5a4d2c895199fa589ef}


Allows the driver to prepare for new sessions. 

\begin{DoxyVerb} This method gives the driver a chance to perform any needed setup actions before a new session on the specified 
 pipeline starts. For example, it could use this callback to load its required services from the pipeline and prepare
 for use any services that it may offer.
\end{DoxyVerb}



\begin{DoxyExceptions}{Exceptions}
{\em Any} & exceptions thrown in this method will cause a session-\/fatal error.\\
\hline
\end{DoxyExceptions}
\begin{DoxyNote}{Note}
This method is called during the session setup process because the services offered by the device's active pipeline may change with each session. It is called after the pipeline sets its active services for the new session but before the pipeline and session setup commands are executed. 

The device shouldn't register its services with the pipeline during this step, that occurs once during the pipeline/driver initialization process (via the self.\-\_\-register\-\_\-services() callback).
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em session\-\_\-pipeline} & The pipeline being used by the session. This can also be found in self.\-associated\-\_\-pipelines. \\
\hline
\end{DoxyParams}
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_adedcca0374fe97f63ea68bbec40c007e}{\index{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}!register\-\_\-pipeline@{register\-\_\-pipeline}}
\index{register\-\_\-pipeline@{register\-\_\-pipeline}!hwm::hardware::devices::drivers::driver::Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}}
\subsubsection[{register\-\_\-pipeline}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver.\-register\-\_\-pipeline (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{pipeline}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_adedcca0374fe97f63ea68bbec40c007e}


Associates a pipeline with the device. 

\begin{DoxyVerb} This method registers the specified pipeline with the device. This allows the device driver to use the pipeline to 
 pass along device output, register and load services, and write to the pipeline telemetry stream.
\end{DoxyVerb}


\begin{DoxyNote}{Note}
This method allows multiple pipelines to be registered with the device. This is because devices can belong to several pipelines at a time. In addition, some devices (such as webcams) allow for concurrent use by multiple pipelines. 

Device registration occurs automatically during the initial pipeline setup process and only occurs once. 

This method calls another method, self.\-\_\-register\-\_\-services(), that provides drivers with the opportunity to register their services with the new pipeline.
\end{DoxyNote}

\begin{DoxyExceptions}{Exceptions}
{\em Raises} & \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_pipeline_already_registered}{Pipeline\-Already\-Registered} in the event that the user tries to register the same pipeline twice with the device.\\
\hline
\end{DoxyExceptions}

\begin{DoxyParams}{Parameters}
{\em pipeline} & The Pipeline to register with the device. \\
\hline
\end{DoxyParams}
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a4a0e7f3e92be74e6cf97e7829f33f99b}{\index{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}!reserve\-\_\-device@{reserve\-\_\-device}}
\index{reserve\-\_\-device@{reserve\-\_\-device}!hwm::hardware::devices::drivers::driver::Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}}
\subsubsection[{reserve\-\_\-device}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver.\-reserve\-\_\-device (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a4a0e7f3e92be74e6cf97e7829f33f99b}


Reserves the device for a pipeline usage session. 

\begin{DoxyVerb} This method tries to acquire the device lock and raises an exception if it can't. However, if the device is
 configured for concurrent access it will simply increment the use counter and return.
\end{DoxyVerb}


\begin{DoxyNote}{Note}
Pipelines will typically use this method to reserve their constituent devices when a session begins. This will prevent two different pipelines from accidentally using the same device at the same time. If the device is configured to allow concurrent access, pipelines will always be able to reserve the device.
\end{DoxyNote}

\begin{DoxyExceptions}{Exceptions}
{\em Throws} & \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_device_in_use}{Device\-In\-Use} if the device has already been reserved by another pipeline. \\
\hline
\end{DoxyExceptions}
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a75544eafe9fea37cc4dd91edb823d9b5}{\index{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}!write@{write}}
\index{write@{write}!hwm::hardware::devices::drivers::driver::Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver.\-write (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{input\-\_\-data}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a75544eafe9fea37cc4dd91edb823d9b5}


Writes the specified data chunk to the device. 

\begin{DoxyVerb} This method receives device input data from the pipeline. The default implementation of this method simply discards
 the data. Device drivers that can handle an input data stream (such as a radio) should pass this data to its
 associated device.
\end{DoxyVerb}



\begin{DoxyParams}{Parameters}
{\em input\-\_\-data} & A data chunk of arbitrary size containing data that should be fed to the device. \\
\hline
\end{DoxyParams}
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a4a85862b29fa6a2f9d89d6b26f283a59}{\index{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}!write\-\_\-output@{write\-\_\-output}}
\index{write\-\_\-output@{write\-\_\-output}!hwm::hardware::devices::drivers::driver::Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}}
\subsubsection[{write\-\_\-output}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver.\-write\-\_\-output (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{output\-\_\-data}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a4a85862b29fa6a2f9d89d6b26f283a59}


Writes device output to the device's pipelines. 

\begin{DoxyVerb} This method writes the specified data chunk to every active pipeline registered to this device that specifies it
 as it's output device.
\end{DoxyVerb}


\begin{DoxyNote}{Note}
It is important to only write device output to active pipelines that specify this device as it's output device. Every device driver should use this method to write their output stream to the pipeline unless it has a specific reason not to. 
\end{DoxyNote}
\hypertarget{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a067a34f90a86b90220aaa85a7196fbd0}{\index{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}!write\-\_\-telemetry@{write\-\_\-telemetry}}
\index{write\-\_\-telemetry@{write\-\_\-telemetry}!hwm::hardware::devices::drivers::driver::Driver@{hwm\-::hardware\-::devices\-::drivers\-::driver\-::\-Driver}}
\subsubsection[{write\-\_\-telemetry}]{\setlength{\rightskip}{0pt plus 5cm}def hwm.\-hardware.\-devices.\-drivers.\-driver.\-Driver.\-write\-\_\-telemetry (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{stream, }
\item[{}]{telemetry\-\_\-datum, }
\item[{}]{binary = {\ttfamily False}, }
\item[{}]{extra\-\_\-headers}
\end{DoxyParamCaption}
)}}\label{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a067a34f90a86b90220aaa85a7196fbd0}


Writes device telemetry data back to the device's registered pipelines. 

\begin{DoxyVerb} This method writes the specified telemetry datum back to the device's registered pipelines that are currently
 in use. The pipelines will then pass the telemetry datum along to their sessions, which will in turn send it to 
 their connected users.
\end{DoxyVerb}


\begin{DoxyNote}{Note}
Device state (generated by the \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a16773f85a5b550b018c9d427747cd271}{get\-\_\-state()} method) is considered standard telemetry and is automatically collected by the device's pipelines. Device drivers should not manually report the state returned by \hyperlink{classhwm_1_1hardware_1_1devices_1_1drivers_1_1driver_1_1_driver_a16773f85a5b550b018c9d427747cd271}{get\-\_\-state()} using this method. 

Occasionally, a pipeline's telemetry stream may be throttled to relieve excess network load. Because telemetry data is tied to a timestamp, any telemetry data that the pipeline receives when it is being throttled will be discarded. Therefore, it can not be assumed that all data passed to this function will make it to the end user.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em stream} & A string identifying which of the device's telemetry streams the datum should be associated with. The user interface will use this to group telemetry data as it flows in and build an appropriate display for it. \\
\hline
{\em telemetry\-\_\-datum} & The actual telemetry datum. Can take many forms (e.\-g. a dictionary or binary webcam image). \\
\hline
{\em binary} & Whether or not the telemetry payload consists of binary data. If set to true, the data will be encoded before being sent to the user. \\
\hline
{\em $\ast$$\ast$extra\-\_\-headers} & A dictionary containing extra keyword arguments that should be included as additional parameters when sending the telemetry datum. \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
hwm/hardware/devices/drivers/driver.\-py\end{DoxyCompactItemize}
